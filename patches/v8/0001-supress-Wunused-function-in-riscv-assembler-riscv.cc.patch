From a476bff427d1fa73c3091a01b6fa1dabd68c27a5 Mon Sep 17 00:00:00 2001
From: kxxt <rsworktech@outlook.com>
Date: Tue, 11 Jun 2024 13:55:10 +0200
Subject: [PATCH] supress -Wunused-function in riscv/assembler-riscv.cc

Fix https://github.com/riscv-forks/electron-riscv-releases/actions/runs/9458809220/job/26054906812
---
 src/codegen/riscv/assembler-riscv.cc | 3 +++
 1 file changed, 3 insertions(+)

diff --git a/src/codegen/riscv/assembler-riscv.cc b/src/codegen/riscv/assembler-riscv.cc
index 028e01925d7..315efd14b08 100644
--- a/src/codegen/riscv/assembler-riscv.cc
+++ b/src/codegen/riscv/assembler-riscv.cc
@@ -73,6 +73,8 @@ static unsigned CpuFeaturesImpliedByCompiler() {
   return answer;
 }
 
+#pragma clang diagnostic push
+#pragma clang diagnostic ignored "-Wunused-function"
 static unsigned SimulatorFeatures() {
   unsigned answer = 0;
   answer |= 1u << RISCV_SIMD;
@@ -82,6 +84,7 @@ static unsigned SimulatorFeatures() {
   answer |= 1u << FPU;
   return answer;
 }
+#pragma clang diagnostic pop
 
 bool CpuFeatures::SupportsWasmSimd128() { return IsSupported(RISCV_SIMD); }
 
-- 
2.39.2

